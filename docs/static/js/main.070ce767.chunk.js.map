{"version":3,"sources":["duck/user.js","components/auth/LoginScreen.js","duck/booking.js","components/hooks/useForm.js","components/booking/BookingScreen.js","components/ui/Navbar.js","routers/DashboardRoute.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","store/store.js","TutenApp.js","index.js"],"names":["LOGIN","LOGOUT","ERROR","initialState","isAuthenticated","loginWithEmailAndPassword","payload","type","setErrorAuth","err","startLogout","dispatch","localStorage","clear","LoginScreen","errorAuth","useSelector","state","auth","useDispatch","useFormik","initialValues","email","password","app","validationSchema","Yup","shape","required","min","onSubmit","values","a","fetch","method","headers","accept","body","JSON","stringify","catch","console","log","response","resp","ok","json","data","token","sessionTokenBck","firstName","lastName","setItem","Sweet","fire","icon","title","text","startLoginWithEmailAndPassword","handleChange","handleSubmit","errors","isValid","isSubmitting","setSubmitting","useEffect","className","style","height","htmlFor","placeholder","name","id","value","onChange","disabled","backgroundColor","fontSize","LOAD_BOOKING","FILTER_BOOKING_BY_ID","FILTER_BOOKING_BY_PRICE","useForm","useState","setState","handleInputChanged","target","reset","BookingScreen","booking","formValues","bookingField","bookingFilter","bookingFilterValue","filterValues","handleFilterChanged","emailClient","getState","current","Accept","App","adminemail","listBooking","map","bookingId","tutenUserClient","bookingTime","streetAddress","locationId","bookingPrice","onClick","filtro","filterBookingByPrice","scope","unix_timestamp","Date","toLocaleDateString","length","colSpan","Navbar","to","margin","DashboardRoute","path","component","PrivateRoute","Component","rest","render","props","pathname","PublicRoute","AppRouter","user","parse","getItem","basename","exact","reducers","combineReducers","action","bookingFilterById","filter","book","parseInt","bookingFilterByPrice","store","createStore","applyMiddleware","thunk","TutenApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.070ce767.chunk.js","sourcesContent":["import Sweet from \"sweetalert2\";\n\n// Action Types\nconst LOGIN = \"[Auth] Login\";\nconst LOGOUT = \"[Auth] Logout\";\nconst ERROR = \"[Auth] Error\";\n\n// Reducers\n\n// https://dev.tuten.cl/TutenREST/rest/user/contacto@tuten.cl/bookings?current=true\n// {\n//   adminemail: \"\",\n//   token: \"\",\n//   app: \"\",\n//   current: true\n// }\n\nconst initialState = {\n  isAuthenticated: false,\n};\n\nexport const userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN:\n      return {\n        ...action.payload,\n        isAuthenticated: true,\n        current: true,\n        errorAuth: false,\n      };\n    case LOGOUT:\n      return {\n        isAuthenticated: false,\n      };\n    case ERROR:\n      console.log(\"error\", action);\n      return {\n        ...state,\n        errorAuth: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\n//Action Creators\nexport const loginWithEmailAndPassword = (payload) => ({\n  type: LOGIN,\n  payload,\n});\n\nexport const logout = () => ({\n  type: LOGOUT,\n});\n\nexport const setErrorAuth = (err) => ({\n  type: ERROR,\n  payload: err,\n});\n\n// Middleware - Thunk\n\nexport const startLoginWithEmailAndPassword = ({ email, password, app }) => {\n  return async (dispatch) => {\n    try {\n      const resp = await fetch(\n        `https://dev.tuten.cl/TutenREST/rest/user/${email}`,\n        {\n          method: \"PUT\",\n          headers: {\n            accept: \"application/json\",\n            \"content-type\": \"application/json\",\n            app: app,\n            password: password,\n          },\n          body: JSON.stringify({ email }),\n        }\n      ).catch((err) => {\n        console.log(\"err\", err.response);\n      });\n\n      if (resp.ok) {\n        const data = await resp.json();\n\n        const payload = {\n          token: data.sessionTokenBck,\n          firstName: data.firstName,\n          lastName: data.lastName,\n          email: data.email,\n          app: app,\n        };\n\n        localStorage.setItem(\"user\", JSON.stringify(payload));\n        dispatch(loginWithEmailAndPassword(payload));\n      } else {\n        dispatch(setErrorAuth(true));\n        Sweet.fire({\n          icon: \"error\",\n          title: \"Authentication Error\",\n          text: \"Email or Password are Wrong\",\n        });\n      }\n    } catch (error) {\n      console.log(\"error pendejo mont\", error);\n    }\n  };\n};\n\nexport const startLogout = () => {\n  return (dispatch) => {\n    localStorage.clear();\n    dispatch(logout());\n  };\n};\n","import { useFormik } from \"formik\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as Yup from \"yup\";\nimport { setErrorAuth, startLoginWithEmailAndPassword } from \"../../duck/user\";\nexport const LoginScreen = () => {\n  const { errorAuth } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n\n  const {\n    values,\n    handleChange,\n    handleSubmit,\n    errors,\n    isValid,\n    isSubmitting,\n    setSubmitting,\n  } = useFormik({\n    initialValues: {\n      email: \"testapis@tuten.cl\",\n      password: \"1234\",\n      app: \"APP_BCK\",\n    },\n    validationSchema: Yup.object().shape({\n      email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n      password: Yup.string()\n        .min(4, \"Password is to short - should be 4 chars minimun.\")\n        .required(\"Required\"),\n      app: Yup.string().required(\"Required\"),\n    }),\n    onSubmit: (values) => {\n      dispatch(startLoginWithEmailAndPassword({ ...values }));\n    },\n  });\n\n  useEffect(() => {\n    setSubmitting(false);\n    dispatch(setErrorAuth(false));\n  }, [dispatch, setSubmitting, errorAuth]);\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\" style={{ height: \"100vh\" }}>\n        <div className=\"col-md-6 d-flex justify-content-center align-items-center\">\n          <form onSubmit={handleSubmit} className=\"w-75\">\n            <h2 className=\"text-black-50\">Sign in.</h2>\n            <p className=\"mt-3 text-muted\">\n              Give us some of your information to get free access to fieldly\n            </p>\n            <div className=\"mt-4 mb-3\">\n              <label htmlFor=\"email\" className=\"fw-bold  text-black-50\">\n                Your e-mail\n              </label>\n              <div className=\"mt-2\">\n                <input\n                  type=\"email\"\n                  placeholder=\"elviserranoh@gmail.com\"\n                  className=\"form-control\"\n                  name=\"email\"\n                  id=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                />\n                {errors.email ? (\n                  <div className=\"mt-1 text-danger\">{errors.email}</div>\n                ) : null}\n              </div>\n            </div>\n            <div className=\"mt-3 mb-3\">\n              <label htmlFor=\"password\" className=\"fw-bold text-black-50\">\n                Password\n              </label>\n              <div className=\"mt-2\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  name=\"password\"\n                  id=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                />\n                {errors.password && (\n                  <div className=\"mt-1 text-danger\">{errors.password}</div>\n                )}\n              </div>\n            </div>\n            <div className=\"mt-3 mb-3\">\n              <label htmlFor=\"app\" className=\"fw-bold text-black-50\">\n                App\n              </label>\n              <div className=\"mt-2\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"app\"\n                  id=\"app\"\n                  value={values.app}\n                  onChange={handleChange}\n                />\n                {errors.app && (\n                  <div className=\"mt-1 text-danger\">{errors.app}</div>\n                )}\n              </div>\n            </div>\n            <button\n              className=\"mt-3 btn btn-primary w-100\"\n              disabled={!isValid || isSubmitting}\n            >\n              Log In\n            </button>\n          </form>\n        </div>\n        <div\n          className=\"col-md-6 d-none d-md-flex justify-content-center align-items-end\"\n          style={{ backgroundColor: \"#5923B7\" }}\n        >\n          <p className=\"text-white fw-bold\" style={{ fontSize: 12 }}>\n            @dev.tuten.cl\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n","const LOAD_BOOKING = \"[Booking] Load\";\nconst FILTER_BOOKING_BY_ID = \"[Booking] Filter Booking By Id\";\nconst FILTER_BOOKING_BY_PRICE = \"[Booking] Filter Booking By Price\";\n\nexport const bookingReducer = (state = [], action) => {\n  switch (action.type) {\n    case LOAD_BOOKING:\n      return [...action.payload];\n    case FILTER_BOOKING_BY_ID:\n      const bookingFilterById =\n        action.payload.filtro === \"igual\"\n          ? state.filter(\n              (book) =>\n                parseInt(book.bookingId) === parseInt(action.payload.value)\n            )\n          : action.payload.filtro === \"mayor_igual\"\n          ? state.filter(\n              (book) =>\n                parseInt(book.bookingId) >= parseInt(action.payload.value)\n            )\n          : state.filter(\n              (book) =>\n                parseInt(book.bookingId) <= parseInt(action.payload.value)\n            );\n      return bookingFilterById;\n    case FILTER_BOOKING_BY_PRICE:\n      const bookingFilterByPrice =\n        action.payload.filtro === \"igual\"\n          ? state.filter(\n              (book) =>\n                parseInt(book.bookingPrice) === parseInt(action.payload.value)\n            )\n          : action.payload.filtro === \"mayor_igual\"\n          ? state.filter(\n              (book) =>\n                parseInt(book.bookingPrice) >= parseInt(action.payload.value)\n            )\n          : state.filter(\n              (book) =>\n                parseInt(book.bookingPrice) <= parseInt(action.payload.value)\n            );\n      return bookingFilterByPrice;\n    default:\n      return state;\n  }\n};\n\n// Action Creators\nexport const loadBooking = (bookings) => ({\n  type: LOAD_BOOKING,\n  payload: bookings,\n});\n\nexport const filterBookingById = (payload) => ({\n  type: FILTER_BOOKING_BY_ID,\n  payload,\n});\n\nexport const filterBookingByPrice = (payload) => ({\n  type: FILTER_BOOKING_BY_PRICE,\n  payload,\n});\n\n// Middleware - Thunk\nexport const startLoadBookingByEmail = (emailClient) => {\n  return async (dispatch, getState) => {\n    const { auth } = getState();\n\n    const resp = await fetch(\n      `https://dev.tuten.cl/TutenREST/rest/user/${emailClient}/bookings?current=${auth.current}`,\n      {\n        method: \"GET\",\n        headers: {\n          Accept: \"Application/json\",\n          \"Content-Type\": \"Application/json\",\n          App: auth.app,\n          adminemail: auth.email,\n          token: auth.token,\n        },\n      }\n    );\n\n    if (resp.ok) {\n      const data = await resp.json();\n\n      const listBooking = data.map((booking) => {\n        return {\n          bookingId: booking.bookingId,\n          firstName: booking.tutenUserClient.firstName,\n          lastName: booking.tutenUserClient.lastName,\n          bookingTime: booking.bookingTime,\n          streetAddress: booking.locationId.streetAddress,\n          bookingPrice: booking.bookingPrice,\n        };\n      });\n      dispatch(loadBooking(listBooking));\n    }\n  };\n};\n","import { useState } from \"react\";\n\nconst useForm = (initialState = {}) => {\n  const [state, setState] = useState(initialState);\n\n  const handleInputChanged = ({ target: { name, value } }) => {\n    console.log(name, value)\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const reset = () => {\n    setState(initialState);\n  };\n\n  return [state, handleInputChanged, reset];\n};\n\nexport default useForm;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  filterBookingByPrice,\n  filterBookingById,\n  startLoadBookingByEmail,\n} from \"../../duck/booking\";\nimport useForm from \"../hooks/useForm\";\n\nimport \"./booking.css\";\n\nexport default function BookingScreen() {\n  const dispatch = useDispatch();\n  const state = useSelector((state) => state.booking);\n\n  const [formValues, handleInputChanged] = useForm({\n    email: \"contacto@tuten.cl\",\n  });\n\n  const [filterValues, handleFilterChanged] = useForm({\n    bookingField: \"bookingId\",\n    bookingFilter: \"igual\",\n    bookingFilterValue: \"\",\n  });\n\n  const { bookingFilterValue, bookingFilter, bookingField } = filterValues;\n\n  const handleSubmitFilter = () => {\n    if (bookingField === \"bookingId\") {\n      dispatch(\n        filterBookingById({\n          value: bookingFilterValue,\n          filtro: bookingFilter,\n        })\n      );\n    } else if (bookingField === \"bookingPrice\") {\n      dispatch(\n        filterBookingByPrice({\n          value: bookingFilterValue,\n          filtro: bookingFilter,\n        })\n      );\n    }\n  };\n\n  useEffect(() => {\n    dispatch(startLoadBookingByEmail(formValues.email));\n  }, [dispatch, formValues]);\n\n  const convertUnixToDate = (unix_timestamp) => {\n    var date = new Date(unix_timestamp);\n    return date.toLocaleDateString();\n  };\n\n  return (\n    <div className=\"container-fluid  mt-4\">\n      <div className=\"d-flex\">\n        <div>\n          <label htmlFor=\"emailClient\" className=\"form-label\">\n            Email\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"email\"\n            id=\"emailClient\"\n            onChange={handleInputChanged}\n            value={formValues.email}\n            placeholder=\"elvis@dev.tuten.cl\"\n          />\n        </div>\n        <div className=\"mr-2\">\n          <label htmlFor=\"bookingFilterValue\" className=\"form-label\">\n            Filtrar\n          </label>\n          <div className=\"d-flex flex-row\">\n            <select\n              name=\"bookingField\"\n              onChange={handleFilterChanged}\n              value={filterValues.bookingField}\n            >\n              <option value=\"bookingId\">ID</option>\n              <option value=\"bookingPrice\">Price</option>\n            </select>\n            <input\n              type=\"text\"\n              className=\"form-control mx-3\"\n              name=\"bookingFilterValue\"\n              value={filterValues.bookingFilterValue}\n              onChange={handleFilterChanged}\n              id=\"bookingFilterValue\"\n              placeholder=\" Ej. 233\"\n            />\n            <select\n              name=\"bookingFilter\"\n              onChange={handleFilterChanged}\n              value={filterValues.bookingFilter}\n            >\n              <option value=\"igual\">Igual</option>\n              <option value=\"mayor_igual\">Mayor o Igual</option>\n              <option value=\"menor_igual\">Menor o Igual</option>\n            </select>\n            <button\n              onClick={handleSubmitFilter}\n              className=\"btn btn-primary btn-sm ml-1\"\n            >\n              Filtrar\n            </button>\n          </div>\n        </div>\n      </div>\n      <table className=\"table table-hover mt-3\">\n        <thead>\n          <tr>\n            <th scope=\"col\">BookingId</th>\n            <th scope=\"col\">Cliente</th>\n            <th scope=\"col\">Fecha de Creación</th>\n            <th scope=\"col\">Dirección</th>\n            <th scope=\"col\">Precio</th>\n          </tr>\n        </thead>\n        <tbody className=\"bg-white\">\n          {state.map((booking) => (\n            <tr key={booking.bookingId}>\n              <th scope=\"row\">{booking.bookingId}</th>\n              <td>{`${booking.firstName} ${booking.lastName}`}</td>\n              <td>{convertUnixToDate(booking.bookingTime)}</td>\n              <td>{booking.streetAddress}</td>\n              <td>{booking.bookingPrice}</td>\n            </tr>\n          ))}\n\n          {state.length === 0 && (\n            <tr>\n              <td colSpan=\"5\">\n                <p className=\"text-center\">No Hay registros para el cliente</p>\n              </td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLogout } from \"../../duck/user\";\nimport \"./navbar.css\";\n\nexport const Navbar = () => {\n  const auth = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n\n  const handleLogout = () => {\n    dispatch(startLogout());\n  };\n\n  return (\n    <nav className=\"navbar px-4 align-items-center flex-row bg-white\">\n      <Link to=\"/\" className=\"navbar-brand text-black-50 fw-bold\">\n        TutenApp\n      </Link>\n      <div className=\"d-flex flex-row justify-content-center\">\n        <i className=\"icon-account\"></i>\n        <p className=\"mx-2\" style={{ margin: 0 }}>\n          {`${auth.firstName} ${auth.lastName}`}\n        </p>\n        <i\n          onClick={handleLogout}\n          className=\"fas fa-sign-out-alt d-flex align-items-center ml-1 cursor-pointer\"\n        ></i>\n      </div>\n    </nav>\n  );\n};\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport BookingScreen from \"../components/booking/BookingScreen\";\nimport { Navbar } from \"../components/ui/Navbar\";\n\nexport const DashboardRoute = () => {\n  return (\n    <>\n      \n      <Navbar />\n\n      <Switch>\n        <Route path=\"/\" component={BookingScreen} />\n      </Switch>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nexport const PrivateRoute = ({\n  isAuthenticated,\n  component: Component,\n  ...rest\n}) => (\n  <div className=\"bg-w\">\n    <Route\n      {...rest}\n      render={(props) =>\n        isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={{ pathname: \"/login\" }} />\n        )\n      }\n    />\n  </div>\n);\n\nPrivateRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  component: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nexport const PublicRoute = ({\n  isAuthenticated,\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        !isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={{ pathname: \"/\" }} />\n        )\n      }\n    />\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { HashRouter as Router, Switch } from \"react-router-dom\";\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\nimport { loginWithEmailAndPassword } from \"../duck/user\";\nimport { DashboardRoute } from \"./DashboardRoute\";\nimport { PrivateRoute } from \"./PrivateRoute\";\nimport { PublicRoute } from \"./PublicRoute\";\n\nexport const AppRouter = () => {\n  const dispatch = useDispatch();\n  const { isAuthenticated } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch(loginWithEmailAndPassword(user));\n    }\n  }, [dispatch]);\n\n  return (\n    <Router basename='/'>\n      <div>\n        <Switch>\n          <PublicRoute\n            exact\n            path=\"/login\"\n            component={LoginScreen}\n            isAuthenticated={isAuthenticated}\n          />\n          <PrivateRoute\n            path=\"/\"\n            component={DashboardRoute}\n            isAuthenticated={isAuthenticated}\n          />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n","import { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { userReducer } from \"../duck/user\";\nimport { bookingReducer } from \"../duck/booking\";\n\nconst reducers = combineReducers({\n  auth: userReducer,\n  booking: bookingReducer,\n});\n\n// const composeEnhancers =\n//   (typeof window !== \"undefined\" &&\n//     window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n//   compose;\n\n// export const store = createStore(\n//   reducers,\n//   composeEnhancers(applyMiddleware(thunk))\n// );\n\nexport const store = createStore(reducers, applyMiddleware(thunk));\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { AppRouter } from \"./routers/AppRouter\";\nimport { store } from \"./store/store\";\n\nimport \"./index.css\";\n\nexport const TutenApp = () => {\n  return (\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { TutenApp } from \"./TutenApp\";\n\nReactDOM.render(<TutenApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}